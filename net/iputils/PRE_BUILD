  unpack $SOURCE &&
  #setup the bonding component from $SOURCE1
  cp $SOURCE_CACHE/$SOURCE2 $SOURCE_DIRECTORY           &&
  cp $SOURCE_CACHE/$SOURCE9 $SOURCE_DIRECTORY           &&
  cd $SOURCE_DIRECTORY                                  &&

  #run the patches
  patch_it $SOURCE_CACHE/$SOURCE3  1
  patch_it $SOURCE_CACHE/$SOURCE4  1
  patch_it $SOURCE_CACHE/$SOURCE5  1
  patch_it $SOURCE_CACHE/$SOURCE6  1
  patch_it $SOURCE_CACHE/$SOURCE7  1
  patch_it $SOURCE_CACHE/$SOURCE8  1

  # Add 2.6.X patch, if necessary
  # default behaviour is not to patch
  KERNEL_HEADERS_VERSION=`lvu installed kernel-headers`

  case ${KERNEL_HEADERS_VERSION} in

        Linux-2.6.*) PATCH_FOR_26=1 ;;

        *) PATCH_FOR_26=0 ;;
  esac        

  if [ ${PATCH_FOR_26} -eq 0 ]; then
        if lvu installed kernel-headers-2.6 > /dev/null ; then
                PATCH_FOR_26=1
         fi
  fi

  if [ ${PATCH_FOR_26} -eq 1 ]; then
         message "Patching for 2.6.X headers..."
         patch_it $SOURCE_CACHE/$SOURCE10 1
  fi
